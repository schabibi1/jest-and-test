# テスト駆動開発

前回のレッスンでは、Jestの基本的なシンタックスを学習しました。

このレッスンでは、テスト駆動開発について学習を進めていきます。

## テスト駆動開発とは？

テスト駆動開発は、TDD - Test Driven Development と言います。

テスト駆動開発、TDDとは、ソフトウェア開発において、ベストプラクティスとされている方法の1つです。

具体的には、アプリケーション開発で、

* コードを書く → テストする

という流れを、

* テストを書く → コードに落とし込む

と、逆に行います。

テストを先に書き、そのテストが通るようにコードを書いていくという流れを取るのが、テスト駆動開発(TDD)の特徴です。

詳しいテスト駆動開発(TDD)の流れは、以下のようになります。

1. テストを書く
2. テストがまずは通らないことを確認
3. テストが通るようにコードを書く
4. テストが通ることを確認
5. コードをリファクタリングする

> 💡 リファクタリング（refactoring）: アプリケーションの外面部分（動作）を変えることなく、内部構造としてのソースコードを変更すること

## テスト駆動開発のメリット

テスト駆動開発(TDD)のメリットは、あらかじめ、コードがどういう動きをするのかを明確に出来ることです。

先にコードがどういう動きをするのかを明確にすることで、テストが通るように書くコードのクオリティを、はじめから高めることが出来ます。

そのほかのメリットに関しては、以下が挙げられます。

* テストコードをきちんと書けば、それがそのまま仕様や動作サンプルとして機能する
* 実装し忘れを防ぐことができる
* 実装するフローや手順、挙動がどう動くべきかが整理され、設計のようなことまでできる
* 通る、通らない、と白黒つくので、達成感が得やすい
* 中小規模プロジェクト、個人プロダクトでも抜け漏れを防ぎやすい

プロダクトを書く時に、「こういう仕様で作ります」といったような、ざっくりした大きな仕様だけがあると、何から作れば良いのかわからなくなったり、いろんなケースを考えないといけなかったりして、不安になります。

テスト駆動開発の最大のメリットは、上記のようなざっくりとした仕様による開発に着手するフローが曖昧になってしまうことを防ぎ、設計も兼ねられることです。

## テスト駆動開発のデメリット

テスト駆動開発(TDD)は、できることなら導入をした方が良いと勧める意見が大多数な中、デメリットもそれなりにあります。

* テストコードの管理コスト（質の悪いテストコードもあり、そのメンテナンスコストの方が高いなど）
* 作り直しやブラッシュアップの過程では、テストの意義がなくなることもある
* 規模の大きなプロジェクトだと、ビルドやテストの実行に10分単位で時間がかかる
* ゲーム開発においては、TDDに向き不向きの内容があるので、扱うのが難しい

デメリットとしては、必ずしも全ての開発環境に導入するのが良いわけではないということです。

テストコードのメンテナンスコストの方が高くなるようであれば、本末転倒ですから、バランスを見ることも大切です。

このように、メリットとデメリット双方を知りつつ、テスト駆動開発の導入に向く環境であれば、積極的に導入していきましょう。

## テスト駆動開発をしてみよう！

テスト駆動開発がどういうものかわかったところで、実際にテスト駆動開発を書いてみましょう！

> 💡 CodeGrit教材、**JSコース応用編 Lesson 9」**の **「4. テスト駆動開発　初めてのテスト駆動開発」**部分に取り掛かってください